# 1043. Разделение Массива Для Максимума Суммы

**Условие**

Дан целочисленный массив arr, разделите массив на (непрерывные) подмассивы длины не более k. После разделения значения каждого подмассива изменяются, чтобы стать максимальным значением этого подмассива.

Возвращает наибольшую сумму заданного массива после разделения. Тестовые примеры генерируются таким образом, чтобы ответ умещался в 32-битное целое число.

**Ограничения**
- `1 <= arr.length <= 500`
- `0 <= arr[i] <= 10^9`
- `1 <= k <= arr.length`

**Примеры**
```
Example 1:

Input: arr = [1,15,7,9,2,5,10], k = 3
Output: 84
Explanation: arr becomes [15,15,15,9,10,10,10]

Example 2:

Input: arr = [1,4,1,5,7,3,6,1,9,9,3], k = 4
Output: 83

Example 3:

Input: arr = [1], k = 1
Output: 1
```


**Решение**

Сортируем массив в порядке возрастания, добавляем блюдо только если оно увеличивает уровень удовлетворения

```C++
class Solution {
public:
    
    int maxSumAfterPartitioning(vector<int>& A, int K) {
        int N = A.size();
        vector<int> dp(N + 1);
        for (int i = 1; i <= N; ++i) {
            int curMax = 0, best = 0;
            for (int k = 1; k <= K && i - k >= 0; ++k) {
                curMax = max(curMax, A[i - k]);
                best = max(best, dp[i - k] + curMax * k);
            }
            dp[i] = best; 
        }
        return dp[N];
    
    }
};
```






 


 


